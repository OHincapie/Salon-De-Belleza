{"version":3,"sources":["app.js"],"names":["pagina","cita","nombre","fecha","hora","servicios","iniciarApp","mostrarServicios","mostrarSeccion","cambiarSeccion","btnSiguiente","btnAnterior","btnPaginador","mostrarResumen","nombreCita","fechaCita","deshabilitarFechaAnterior","horaCita","seccionAnt","document","querySelector","classList","remove","add","seccionAct","querySelectorAll","forEach","enlace","addEventListener","e","preventDefault","parseInt","target","dataset","paso","async","resultado","fetch","db","json","servicio","id","precio","nombreServicio","createElement","textContent","precioServicio","divServicios","idServicio","onclick","seleccionarServicio","appendChild","error","console","log","elemento","tagName","parentElement","contains","eliminarServicio","agregarServicio","firstElementChild","nextElementSibling","filter","serviciosObj","anterior","siguiente","resumenDiv","mensajeError","Object","values","includes","length","noCita","resumen","resumenTodo","resumenServicios","nombreReserva","innerHTML","fechaReserva","horaReserva","titulo","cantidad","contenedor_servicios","totalServicio","split","trim","cantidadPagar","nombreTexto","value","mostrarAlerta","alertaPrevia","mensaje","tipo","alert","setTimeout","inputFecha","Date","getUTCDay","date","year","getFullYear","mes","getMonth","dia","getDate","fechaActual","min","horaInput"],"mappings":"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","file":"bundle.js","sourcesContent":["let pagina = 1;\r\n\r\nconst cita = {\r\n    nombre='',\r\n    fecha='',\r\n    hora='',\r\n    servicios=[]\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    iniciarApp();\r\n})\r\n\r\n/*Â¿Que hace el codigo?\r\nInicialmente pasa por mostrarservicios para sacar el contenido del JSON, dependiendo si el servicio esta seleccionado o no se resalta gracias al\r\nmetodo seleccionarServicio.\r\nAhora pasa por mostrar seccion con el valor inicial de pagina=1 y agrega las repectivas clases.\r\nLuego de esto pasa por cambiarSeccion que elimina las clases que se habian puesto y las agrega a la nueva seccion\r\nEs decir, si las clases de mostrar-servicio y actual estaban en 1, al seleccionar otra seccion se eliminan estas clase,\r\nY se van a la nueva seccion como por ejemplo resultado*/\r\n\r\nfunction iniciarApp() {\r\n    mostrarServicios();\r\n    //Resalta el div Actual segun el tab que se presiona\r\n    mostrarSeccion();\r\n\r\n    //Oculta o muestra el div segun el tab que se presiona\r\n    cambiarSeccion();\r\n\r\n    //Paginacion\r\n    btnSiguiente();\r\n    btnAnterior();\r\n\r\n    btnPaginador();\r\n\r\n    mostrarResumen();\r\n\r\n    nombreCita();\r\n\r\n    fechaCita();\r\n\r\n    deshabilitarFechaAnterior();\r\n\r\n    horaCita();\r\n\r\n}\r\n\r\nfunction mostrarSeccion() {\r\n    //Todo este metodo se hace para poder manejar las secciones desde los botones anterior/siguiente\r\n    //Eliminar mostrar-seccion de la seccion anterior y reasignar\r\n    const seccionAnt = document.querySelector('.mostrar-seccion');\r\n    if (seccionAnt) {\r\n        seccionAnt.classList.remove('mostrar-seccion');\r\n    }\r\n\r\n    const seccionActual = document.querySelector(`#paso-${pagina}`); //Crear variable que sea igual al ID De las secciones Ejemplo: id=\"paso-1\"\r\n    seccionActual.classList.add('mostrar-seccion');//Agregarle la clase que sera la primera en verse\r\n\r\n    //Eliminar actual de la seccion anterior y reasignar\r\n    const seccionAct = document.querySelector('.actual');\r\n    if (seccionAct) {\r\n        seccionAct.classList.remove('actual');\r\n    }\r\n\r\n    //Resaltar el tab actual\r\n    const tab = document.querySelector(`[data-paso=\"${pagina}\"]`);//Crear variable que sea igual al data-paso=\"1\" de los botones\r\n    tab.classList.add('actual');//Agregar clase actual\r\n    //Los valores iniciales son 1, y al pasar por el metodo de cambiar seccion se cambia el valor de la variable pagina, por lo cual se cambia todo \r\n}\r\n\r\nfunction cambiarSeccion() {\r\n    //Todo este metodo se hace para poder manejar las secciones desde la navegacion superior\r\n    const enlaces = document.querySelectorAll('.tabs button')//Sacar cada enlace del html\r\n\r\n    enlaces.forEach(enlace => { //Pasar por cada enlace y realizar lo solicitado\r\n        enlace.addEventListener('click', e => {//Al hacer click\r\n            e.preventDefault();//Prevenir accion por default\r\n            pagina = parseInt(e.target.dataset.paso);//Pasar dato que hay en data-paso=\"1\" a INT, puede ser 1 2 o 3\r\n\r\n            //Eliminar mostrar-seccion de la seccion anterior y reasignar\r\n            document.querySelector('.mostrar-seccion').classList.remove('mostrar-seccion');\r\n\r\n            const seccion = document.querySelector(`#paso-${pagina}`);//seleccionar id=\"paso-1\"\r\n            seccion.classList.add('mostrar-seccion');//Agregar clase\r\n\r\n            //Eliminar actual de la seccion anterior y reasignar\r\n            document.querySelector('.actual').classList.remove('actual');\r\n            document.querySelector(`[data-paso=\"${pagina}\"]`).classList.add('actual');\r\n\r\n            //Para evitar este codigo se puede llamar el metodo de mostrarseccion() , sin embargo se deja el codigo aca para entender que hace cada cosa\r\n            btnPaginador();\r\n        })\r\n    })\r\n}\r\n\r\nasync function mostrarServicios() {\r\n    try {\r\n        const resultado = await fetch('./servicios.json');//Anotado en el cuaderno\r\n        const db = await resultado.json();\r\n        const { servicios } = db;\r\n\r\n\r\n\r\n\r\n        servicios.forEach(servicio => {\r\n            const { id, nombre, precio } = servicio;\r\n            //DOMScripting\r\n            //Generarnombre servicio\r\n            const nombreServicio = document.createElement('P');\r\n            nombreServicio.textContent = nombre;\r\n            nombreServicio.classList.add('nombre-servicio');\r\n\r\n\r\n            //Generar precio servicio\r\n\r\n            const precioServicio = document.createElement('P');\r\n            precioServicio.textContent = `$ ${precio}`;\r\n            precioServicio.classList.add('precio-servicio');\r\n\r\n            //Generar DIV\r\n            const divServicios = document.createElement('DIV');\r\n            divServicios.classList.add('div-servicios');\r\n            divServicios.dataset.idServicio = id;\r\n\r\n            //Seleccion servicio para la cita\r\n            divServicios.onclick = seleccionarServicio;\r\n\r\n            //Agregar nombre y precio al div de servicios\r\n            divServicios.appendChild(nombreServicio);\r\n            divServicios.appendChild(precioServicio);\r\n\r\n            document.querySelector('#servicios').appendChild(divServicios);\r\n        });\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n\r\n}\r\n\r\nfunction seleccionarServicio(e) {\r\n    let elemento;//Crear variable LET\r\n\r\n    if (e.target.tagName === 'P') { //Revisar el TagName del elemento al que se le da click y ver si es un parrafo\r\n        elemento = e.target.parentElement; // Si es un parrafo convertir la variable elemento a su padre es decir el DIV\r\n    } else {\r\n        elemento = e.target; //Si no, el elemento es igual a DIV\r\n    }\r\n\r\n    if (elemento.classList.contains('seleccionado')) {//Si elemento tiene la clase seleccionado se remueve esta, sino se agrega\r\n        elemento.classList.remove('seleccionado');\r\n\r\n        const id = parseInt(elemento.dataset.idServicio);\r\n        console.log(id);\r\n        eliminarServicio(id);\r\n    } else {\r\n        elemento.classList.add('seleccionado')\r\n        const serviciosObj = {\r\n            id = parseInt(elemento.dataset.idServicio),\r\n            nombre = elemento.firstElementChild.textContent,\r\n            precio = elemento.firstElementChild.nextElementSibling.textContent\r\n        }\r\n\r\n        agregarServicio(serviciosObj);\r\n    }\r\n}\r\n\r\nfunction eliminarServicio(id) {\r\n    const { servicios } = cita;\r\n\r\n    cita.servicios = servicios.filter(servicio => servicio.id !== id)\r\n    console.log(cita);\r\n}\r\n\r\nfunction agregarServicio(serviciosObj) {\r\n    const { servicios } = cita;\r\n    cita.servicios = [...servicios, serviciosObj];\r\n    console.log(cita);\r\n}\r\n\r\nfunction btnAnterior() {\r\n    const anterior = document.querySelector('#anterior');\r\n    anterior.addEventListener('click', function () {\r\n        pagina--;\r\n        console.log(pagina);\r\n        btnPaginador();\r\n    })\r\n}\r\n\r\nfunction btnSiguiente() {\r\n    const siguiente = document.querySelector('#siguiente');\r\n    siguiente.addEventListener('click', function () {\r\n        pagina++;\r\n        console.log(pagina);\r\n        btnPaginador();\r\n    })\r\n}\r\n\r\nfunction btnPaginador() {\r\n    const anterior = document.querySelector('#anterior');\r\n    const siguiente = document.querySelector('#siguiente');\r\n\r\n    if (pagina === 1) {\r\n        anterior.classList.add('oculto');\r\n        siguiente.classList.remove('oculto');\r\n    } else if (pagina === 2) {\r\n        anterior.classList.remove('oculto');\r\n        siguiente.classList.remove('oculto');\r\n    } else if (pagina === 3) {\r\n        anterior.classList.remove('oculto')\r\n        siguiente.classList.add('oculto');\r\n        mostrarResumen();\r\n    }\r\n    mostrarSeccion();\r\n\r\n}\r\n\r\nfunction mostrarResumen() {\r\n    const { nombre, fecha, hora, servicios } = cita;\r\n    const resumenDiv = document.querySelector('.resumen-cita');\r\n\r\n    const mensajeError = document.querySelector('.mensaje-error');\r\n    if (mensajeError) {\r\n        mensajeError.remove();\r\n    }\r\n\r\n    //Validar si hay algo dentro de los campos/objeto\r\n    if (Object.values(cita).includes('') || cita.servicios.length === 0) {\r\n        const noCita = document.createElement('P');\r\n        noCita.textContent = 'Faltan datos por llenar (Servicios, nombre, fecha y/o hora)';\r\n        noCita.classList.add('mensaje-error');\r\n\r\n        resumenDiv.appendChild(noCita);\r\n        return;\r\n    }\r\n\r\n    //Crear el resumen\r\n\r\n    const resumen = document.querySelector('.resumen-todo');\r\n\r\n    if (resumen) {\r\n        resumen.remove();\r\n    }\r\n\r\n    //Contenedor General para los datos\r\n    const resumenTodo = document.createElement('DIV');\r\n    resumenTodo.classList.add('resumen-todo');\r\n    resumenDiv.appendChild(resumenTodo);\r\n\r\n\r\n    //Contenedor paraa los servicios\r\n    const resumenServicios = document.createElement('DIV');\r\n    resumenServicios.classList.add('resumen-servicios');\r\n    resumenTodo.appendChild(resumenServicios);\r\n\r\n\r\n\r\n    const nombreReserva = document.createElement('P');\r\n    nombreReserva.innerHTML = `<span>Nombre: </span> ${nombre}`\r\n\r\n    const fechaReserva = document.createElement('P');\r\n    fechaReserva.innerHTML = `<span>Fecha: </span> ${fecha}`\r\n\r\n    const horaReserva = document.createElement('P');\r\n    horaReserva.innerHTML = `<span>Hora: </span> ${hora}`;\r\n\r\n    const titulo = document.createElement('H3');\r\n    titulo.classList.add('titulo');\r\n    titulo.textContent = 'Resumen Servicios'\r\n\r\n    resumenServicios.appendChild(titulo);\r\n\r\n    let cantidad = 0;\r\n    //Iterador sobre los servicios seleccionados\r\n    servicios.forEach(servicio => {\r\n        const { precio } = servicio;\r\n\r\n        const contenedor_servicios = document.createElement('DIV');\r\n        contenedor_servicios.classList.add('contenedor_servicios');\r\n\r\n        const nombreServicio = document.createElement('P');\r\n        const precioServicio = document.createElement('P');\r\n        precioServicio.classList.add('precio'); \r\n\r\n        const totalServicio = precio.split('$');\r\n\r\n        cantidad += parseInt(totalServicio[1].trim()) ;\r\n\r\n\r\n\r\n        nombreServicio.textContent = servicio.nombre;\r\n        precioServicio.textContent = precio;\r\n\r\n        contenedor_servicios.appendChild(nombreServicio);\r\n        contenedor_servicios.appendChild(precioServicio);\r\n\r\n\r\n        resumenServicios.appendChild(contenedor_servicios);\r\n    })\r\n\r\n\r\n    resumenTodo.appendChild(nombreReserva);\r\n    resumenTodo.appendChild(fechaReserva);\r\n    resumenTodo.appendChild(horaReserva);\r\n    resumenTodo.appendChild(resumenServicios);\r\n\r\n    const cantidadPagar = document.createElement('P');\r\n        cantidadPagar.classList.add('total');\r\n        cantidadPagar.innerHTML = `<span>Total a pagar: </span> $ ${cantidad}`;\r\n\r\n        resumenTodo.appendChild(cantidadPagar);\r\n\r\n\r\n}\r\n\r\nfunction nombreCita() {\r\n    const nombreInput = document.querySelector('#nombre');\r\n\r\n\r\n    nombreInput.addEventListener('input', e => {\r\n        const nombreTexto = e.target.value.trim();\r\n        if (nombreTexto === '' || nombreTexto.length < 3) {\r\n            console.log('No es valido');\r\n            mostrarAlerta('Nombre no valido', 'error');\r\n\r\n        } else {\r\n            const alertaPrevia = document.querySelector('.alerta');\r\n            if (alertaPrevia) {\r\n                alertaPrevia.remove();\r\n            }\r\n            cita.nombre = nombreTexto;\r\n            console.log(cita);\r\n\r\n        }\r\n    })\r\n}\r\n\r\nfunction mostrarAlerta(mensaje, tipo) {\r\n\r\n    const alertaPrevia = document.querySelector('.alerta');\r\n    if (alertaPrevia) {\r\n        return;\r\n    }\r\n\r\n\r\n    const alert = document.createElement('DIV');\r\n    alert.textContent = mensaje;\r\n    alert.classList.add('alerta');\r\n\r\n    if (tipo === 'error') {\r\n        alert.classList.add('error');\r\n    }\r\n\r\n    const formulario = document.querySelector('.formulario');\r\n    formulario.appendChild(alert);\r\n\r\n    setTimeout(() => {\r\n        alert.remove();\r\n    }, 3500);\r\n\r\n    console.log(alert);\r\n}\r\n\r\nfunction fechaCita() {\r\n    const inputFecha = document.querySelector('#fecha');\r\n\r\n    inputFecha.addEventListener('input', e => {\r\n        const fecha = new Date(e.target.value).getUTCDay();\r\n\r\n        if ([0, 1].includes(fecha)) {\r\n            e.preventDefault();\r\n            inputFecha.value = '';\r\n            mostrarAlerta('No atendemos domingos ni lunes', 'error')\r\n        } else {\r\n            cita.fecha = inputFecha.value;\r\n            console.log(cita);\r\n        }\r\n    })\r\n\r\n}\r\n\r\nfunction deshabilitarFechaAnterior() {\r\n    const fecha = document.querySelector('#fecha');\r\n\r\n    const date = new Date();\r\n    const year = date.getFullYear();\r\n    const mes = date.getMonth() + 1;\r\n    const dia = date.getDate();\r\n    //AAAA-MM-DD\r\n    const fechaActual = `${year}-${mes < 10 ? `0${mes}` : mes}-${dia < 10 ? `0${dia}` : dia}`;//Ternario\r\n    console.log(fechaActual);\r\n\r\n    fecha.min = fechaActual;\r\n\r\n}\r\n\r\nfunction horaCita() {\r\n    const horaInput = document.querySelector('#hora');\r\n\r\n    horaInput.addEventListener('input', e => {\r\n        const horaCita = e.target.value;\r\n        const hora = horaCita.split(':');\r\n\r\n        if (hora[0] < 10 || hora[0] > 21) {\r\n            console.log('Hora no valida')\r\n            mostrarAlerta('Hora no valida, rango de 10:00 a 21:00', 'error');\r\n            setTimeout(() => {\r\n                horaInput.value = '';\r\n            }, 3500);\r\n        } else {\r\n            cita.hora = horaCita;\r\n            console.log(cita)\r\n        }\r\n    })\r\n}"]}